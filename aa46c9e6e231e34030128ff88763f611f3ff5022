{
  "comments": [
    {
      "key": {
        "uuid": "P7vTvOHc",
        "filename": "src/main/java/com/googlesource/gerrit/plugins/avatars/gravatar/GravatarAvatarProvider.java",
        "patchSetId": 4
      },
      "lineNbr": 49,
      "author": {
        "id": 1011123
      },
      "writtenOn": "2013-02-20T05:01:23Z",
      "side": 1,
      "message": "Is this going to have to be done in every class that implements AvatarProvider?\n\nIf so would it be better to move this into core Gerrit and have it pass `ssl` as a parameter on `getUrl`?",
      "revId": "aa46c9e6e231e34030128ff88763f611f3ff5022",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "P8lAh7FE",
        "filename": "src/main/java/com/googlesource/gerrit/plugins/avatars/gravatar/GravatarAvatarProvider.java",
        "patchSetId": 4
      },
      "lineNbr": 49,
      "author": {
        "id": 1001240
      },
      "writtenOn": "2013-02-20T06:24:36Z",
      "side": 1,
      "message": "That\u0027s a good question. Some providers might only serve over SSL, in which case it doesn\u0027t matter for them. But some might serve other either protocol and Gerrit would need to pick the right one in the plugin based on what Gerrit is running under. :-(\n\nYou may be right that this needs to be made more easily available to a plugin. I\u0027m not sure I want this as a parameter to getUrl(). It seems more like something the plugin should learn in its constructor from some sort of server configuration object. Which is why I suggested this approach, however ugly it may be.",
      "parentUuid": "P7vTvOHc",
      "revId": "aa46c9e6e231e34030128ff88763f611f3ff5022",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "P8vDq4NA",
        "filename": "src/main/java/com/googlesource/gerrit/plugins/avatars/gravatar/GravatarAvatarProvider.java",
        "patchSetId": 4
      },
      "lineNbr": 49,
      "author": {
        "id": 1010813
      },
      "writtenOn": "2013-02-20T12:32:48Z",
      "side": 1,
      "message": "You could just unconditionally use SSL for things like this--I don\u0027t see any real harm in that.",
      "parentUuid": "P8lAh7FE",
      "revId": "aa46c9e6e231e34030128ff88763f611f3ff5022",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "QTxP0LBI",
        "filename": "src/main/java/com/googlesource/gerrit/plugins/avatars/gravatar/GravatarAvatarProvider.java",
        "patchSetId": 4
      },
      "lineNbr": 49,
      "author": {
        "id": 1000253
      },
      "writtenOn": "2013-02-22T17:58:43Z",
      "side": 1,
      "message": "imo the current solution is fine for now - we can revisit if/when there are other avatar plugins.  Some avatar providers might support only ssl or only non-ssl so I think we need to leave it up to the provider on which version to use.\n\nPassing a flag in on the constructor makes the most sense to me.  The interface could be a little cleaner, but I\u0027m fine with this for now and later we can add a @ServerIsUsingSsl flag or something similar if we decide enough people need it.  Bonus - this won\u0027t require a change to the Avatar Plugin API.",
      "parentUuid": "P8vDq4NA",
      "revId": "aa46c9e6e231e34030128ff88763f611f3ff5022",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": false
    }
  ]
}